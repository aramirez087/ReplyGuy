# ReplyGuy Constitution

> Auto-generated by spec-kitty constitution command
> Created: 2026-02-21
> Version: 1.0.0

## Purpose

This constitution captures the technical standards, code quality expectations,
and governance rules for ReplyGuy. All features and pull requests should align
with these principles.

## Technical Standards

### Languages and Frameworks

- **Language:** Rust 1.75+ (edition 2021)
- **Async runtime:** Tokio
- **CLI parsing:** Clap
- **HTTP client:** Reqwest (for X API)
- **Persistence:** SQLx + SQLite (local storage)
- **Serialization:** Serde (config + JSON)
- **Logging:** Tracing (structured logs)
- **Auth:** OAuth2 crate (PKCE flow)

### Testing Requirements

- **Framework:** `cargo test` for unit and integration tests
- **Coverage:** 100% for critical paths (auth, API interactions, data persistence)
- **Integration tests:** Required for all features touching external APIs or database
- **Unit tests:** Required for business logic and data transformations

### Performance and Scale

- **Resource footprint:** Low memory and minimal CPU usage
- **Suitability:** Must be lightweight enough to run as a background daemon
- **Startup time:** CLI commands should feel instant (< 1 second for local operations)
- **Network:** Respect rate limits, use connection pooling where appropriate

### Deployment and Constraints

- **Platforms:** Cross-platform - Linux, macOS, Windows 10+
- **Distribution:** Single static binary per platform
- **Dependencies:** No external runtime dependencies (SQLite embedded via SQLx)
- **CI targets:** Build and test on all three platforms

## Code Quality

### Pull Request Requirements

- Self-merge allowed after CI passes (solo developer workflow)
- All CI checks must be green before merge
- Commit messages should be descriptive and follow conventional format

### Code Review Checklist

- No `unwrap()` in production code - use proper error handling with `Result`/`Option`
- Proper error propagation using `?` operator and custom error types
- Follow Rust idioms and conventions
- No unnecessary `unsafe` blocks
- Handle all error paths explicitly

### Quality Gates

All of the following must pass before merging:

1. `cargo test` - all unit and integration tests pass
2. `cargo clippy -- -D warnings` - no clippy warnings (deny all)
3. `cargo fmt --check` - code formatted correctly
4. `cargo audit` - no known vulnerabilities in dependencies

### Documentation Standards

- All public APIs must have `///` doc comments
- Doc comments should explain *what* and *why*, not *how*
- README updated for new user-facing features
- Inline comments only for complex or non-obvious logic

## Governance

### Amendment Process

Any team member can propose amendments via pull request. Changes are discussed
and merged following standard PR review process.

### Compliance Validation

Code reviewers validate compliance during PR review. Constitution violations
should be flagged and addressed before merge.

### Exception Handling

Exceptions discussed case-by-case with team. Strong justification required.
Consider updating constitution if exceptions become common.
